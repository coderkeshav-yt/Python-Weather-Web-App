<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AtmoPy Weather 🌤️</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <form method="POST" class="weather-form">
            
            <div class="form-group">
                <label for="city">Location</label>
                <input type="text" id="city" name="city" placeholder="e.g., Darbhanga" required 
                       value="{{ city_name or '' }}">
            </div>

            <div class="form-group">
                <label>Units</label>
                <div class="unit-selector">
                    <div class="radio-pill">
                        <input type="radio" id="celsius" name="units" value="metric" 
                               {% if units == 'metric' %}checked{% endif %}>
                        <label for="celsius">Celsius (°C)</label>
                    </div>
                    <div class="radio-pill">
                        <input type="radio" id="fahrenheit" name="units" value="imperial"
                               {% if units == 'imperial' %}checked{% endif %}>
                        <label for="fahrenheit">Fahrenheit (°F)</label>
                    </div>
                </div>
            </div>

            <button type="submit">Get Weather</button>
        </form>

        {% if weather %}
            {% if weather.error %}
                <div class="weather-card error">
                    <h2>{{ weather.error }}</h2>
                </div>
            {% else %}
                <div class="weather-card">
                    <h2>{{ weather.location }}</h2>
                    <div class="main-info">
                        <p class="temp">{{ weather.temp }}</p>
                        <img src="http://openweathermap.org/img/wn/{{ weather.icon }}@4x.png" alt="Weather Icon">
                    </div>
                    <p class="description">{{ weather.description }}</p>
                    <div class="details">
                        <p><strong>Feels Like</strong>{{ weather.feels_like }}</p>
                        <p><strong>Humidity</strong>{{ weather.humidity }}</p>
                        <p><strong>Wind</strong>{{ weather.wind_speed }}</p>
                    </div>
                </div>
            {% endif %}
        {% endif %}
    </div>
</body>
</html>